{"version":3,"file":"post.js","sources":["post.js"],"sourcesContent":["import { ready } from './ready.js'\n\nconst isDark =\n  window.matchMedia?.('(prefers-color-scheme: dark)').matches\nconst highlighter = shiki.getHighlighter({\n  theme: isDark ? 'github-light' : 'github-dark',\n})\n\nready(async () => {\n  const images = document.querySelectorAll('.kg-gallery-image img')\n  for(const image of images) {\n    const container = image.closest('.kg-gallery-image')\n    const width = image.attributes.width.value\n    const height = image.attributes.height.value\n    const ratio = width / height\n\n    container.style.flex = `${ratio} 1 0%`\n  }\n\n  const videos = document.querySelectorAll('iframe[src*=youtube]')\n  for (const video of videos) {\n    video.parentNode.classList.add('kg-embed-video')\n  }\n})\n\nready(async () => {\n  const codeblocks = document.querySelectorAll('pre > code[class^=\"language-\"]')\n  for (const block of codeblocks) {\n    const [, language] = Array.from(block.classList)[0].split('-')\n\n    const code = (await highlighter).codeToHtml(block.innerText, language)\n\n    block.parentNode.outerHTML = code\n  }\n})\n"],"names":["ready","isDark","window","matchMedia","matches","highlighter","shiki","getHighlighter","theme","async","image","video","document","querySelectorAll","container","closest","width","attributes","value","height","style","flex","parentNode","classList","add","block","language","Array","from","split","code","codeToHtml","innerText","outerHTML"],"mappings":"OAASA,KAAa,KAAA,aAEtB,IAAMC,OACJC,OAAOC,aAAa,8BAA8B,EAAEC,QAChDC,YAAcC,MAAMC,eAAe,CACvCC,MAAOP,OAAS,eAAiB,aACnC,CAAC,EAEDD,MAAMS,UACJ,IACUC,EAUCC,EAVX,IAAUD,KADKE,SAASC,iBAAiB,uBAAuB,EACrC,CACzB,IAAMC,EAAYJ,EAAMK,QAAQ,mBAAmB,EAC7CC,EAAQN,EAAMO,WAAWD,MAAME,MAC/BC,EAAST,EAAMO,WAAWE,OAAOD,MAGvCJ,EAAUM,MAAMC,KAFFL,EAAQG,EAEC,OACzB,CAGA,IAAWR,KADIC,SAASC,iBAAiB,sBAAsB,EAE7DF,EAAMW,WAAWC,UAAUC,IAAI,gBAAgB,CAEnD,CAAC,EAEDxB,MAAMS,UACJ,IACWgB,EAAX,IAAWA,KADQb,SAASC,iBAAiB,gCAAgC,EAC7C,CAC9B,GAAM,CAAA,CAAGa,GAAYC,MAAMC,KAAKH,EAAMF,SAAS,EAAE,GAAGM,MAAM,GAAG,EAEvDC,GAAO,MAAOzB,aAAa0B,WAAWN,EAAMO,UAAWN,CAAQ,EAErED,EAAMH,WAAWW,UAAYH,CAC/B,CACF,CAAC"}